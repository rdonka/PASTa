# PASTa: An Open-Source Analysis and Signal Processing Toolbox for Fiber Photometry Data
Rachel M. Donka, Maxine K. Loh, Vaibhav R. Konanur, Mitchell F. Roitman, Jamie D. Roitman

Published 03 July 2025, Current Protocols. https://doi.org/10.1002/cpz1.70161

Fiber photometry is a rapidly growing technique to record real-time neural signaling in awake, behaving subjects. However, the processing and analysis of photometry data streams can be complicated, and there is wide divergence in methods across the field. While several open-source signal processing tools exist, platforms can be inflexible in accommodating experimental designs, lack consistency in signal peak detection, and be difficult to use for naive users. In addition, more recent sensors produce fluorescence that may be detected on both signal and control streams, confounding signal processing. To remedy these challenges, we developed PASTa (Photometry Analysis and Signal Processing Toolbox), an open-source MATLAB based toolbox and protocol for the processing and analysis of fiber photometry data. PASTa includes a full analysis pipeline from data preparation through signal processing and transient event detection. Default parameters were selected to provide users with a conservative starting place, with optional inputs to include other commonly used methods and techniques in the field. Additionally, the transient detection protocol adopts options for determining peak detection thresholds and pre-peak baselines to allow more reliable detection of events and characterization of transient kinetics. While operating through MATLAB, the code is annotated to be readable, accessible for new users, and adaptable. Ultimately, the PASTa protocol introduces a customizable, user-friendly platform to process fiber photometry signals, and detect and quantify transient events. Novel methods for the analysis of signal processing will continue to be integrated to the toolbox, seeking to provide fiber photometry users with access to a comprehensive analysis suite that can accommodate the wide diversity of sensors and experimental paradigms used in photometry.

# User Guide
For a full user guide, see https://rdonka.github.io/PASTaUserGuide/
